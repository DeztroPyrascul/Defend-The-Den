{"ts":1340976994038,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var AngleIndicator = BaseEntity.extend({\n\tdefaults: {\n        'parent' : undefined,\n    },\n    initialize: function(){\n        var parent = this.get(\"parent\");\n        if(parent === undefined) {\n            return false;\n        }\n        \n        var angleIndicator = Crafty.e(\"2D, Canvas, Color\");\n        angleIndicator.attr({\n            x: parent._x+parent._w/2+35,\n            y: parent._y+parent._h/2-25,\n            w: 40,\n            h: 10,\n            z: 9999\n        });\n        angleIndicator.color(\"#969696\");\n        angleIndicator.bind('EnterFrame', function(e){\n            \n            var dx = Crafty.mousePosition.x - this._x,\n                dy = Crafty.mousePosition.y - this._y,\n                oldX = this._x,\n                oldY = this._y,\n                movX = (dx * 1) / (Math.sqrt(dx * dx + dy * dy)),\n                movY = (dy * 1) / (Math.sqrt(dx * dx + dy * dy));\n            this.moveByRatio = {\n                x: movX,\n                y: movY\n            };\n            this.attr({\n                x: parent._x+parent._w/2+35,\n                y: parent._y+parent._h/2-25,\n            });\n            this.rotation = Crafty.math.radToDeg(Math.atan2(dy, dx));\n            \n        });\n\n    \tthis.set({'entity' : angleIndicator });\n    \t\n    }\n});"]],"start1":0,"start2":0,"length1":0,"length2":1280}]],"length":1280}
